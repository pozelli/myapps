<link rel="stylesheet" href="css/geral.css">
<link rel="stylesheet" href="css/galeria.css">

<img id="background" src="img/index/cover2.jpg" />

<div class="container">
  <header>
    <div align="center">
      <a id="logo" href="index.html">
        <img src="img/index/logo.png" title="CVU" />
      </a>
    </div>
  </header>

  <main>
    <div class="row">
      <div class="column">
        <img src="img/galeria/1.jpg">
        <img src="img/galeria/10.webp">
        <img src="img/galeria/5.webp">
        <img src="img/galeria/1.jpg">
      </div>
      <div class="column">
        <img src="img/galeria/2.jpg">
        <img src="img/galeria/6.webp">
        <img src="img/galeria/3.jpg">
      </div>
      <div class="column">
        <img src="img/galeria/3.jpg">
        <img src="img/galeria/5.webp">
        <img src="img/galeria/10.webp">
      </div>
      <div class="column">
        <img src="img/galeria/10.webp">
        <img src="img/galeria/4.jpg">
        <img src="img/galeria/5.webp">
        <img src="img/galeria/6.webp">
      </div>
    </div>
  </main>

  <footer>
    <a href="javascript:copiar_email()">
      <img src="img/rodape/email.png" title="Copiar email" />
    </a>

    <a href="https://cvulimeira.wixsite.com/consultoriasocialcvu">
      <img src="img/rodape/blog.png" title="Blog" />
    </a>

    <a href="https://www.facebook.com/cvulimeira/">
      <img src="img/rodape/facebook.png" title="Facebook" />
    </a>

    <a href="https://www.instagram.com/cvulimeira/">
      <img src="img/rodape/instagram.png" title="Instagram" />
    </a>
  </footer>
</div>

<div id="div_imagem">
  <div id="overlay">
  </div>
  <img id="img_expandida" />
</div>

<script>
  var imagens = document.querySelectorAll('.column img');
  var div_imagem = document.getElementById('div_imagem');
  var img_expandida = document.getElementById('img_expandida');
  var overlay = document.getElementById('overlay');
  var mostrando=0, atual;

  for(var i=0; i<imagens.length; i++)
  {
    imagens[i].setAttribute('data-number', i);
    imagens[i].onclick = function () {
      img_expandida.src = this.src;
      div_imagem.style.display = 'block';
      mostrando = 1;
      atual = parseInt(this.getAttribute('data-number'));
    };
  }

  function esconder_imagem() {
    div_imagem.style.display = 'none';
    mostrando = 0;
  }

  overlay.onclick = esconder_imagem;

  document.onkeydown = function (e) {
   if(e.key === "Escape") {
       esconder_imagem();
   }

   if (mostrando==1){
     if(e.keyCode == '37') {
       atual = atual - 1;
       if (atual<0) {
         atual = imagens.length-1;
       }
       img_expandida.src = imagens[atual].src;
     }
     if(e.keyCode == '39') {
       atual = (atual + 1) % imagens.length;
       img_expandida.src = imagens[atual].src;
     }
   }

  };

</script>
